<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>分類: devOps - Moojing&#39;s Blog</title>


    <meta name="keywords" content="frontend,backend,javascript">
<meta property="og:type" content="website">
<meta property="og:title" content="Moojing&#39;s Blog">
<meta property="og:url" content="https://www.muji.dev/categories/devOps/index.html">
<meta property="og:site_name" content="Moojing&#39;s Blog">
<meta property="og:locale" content="zh-TW">
<meta property="og:image" content="https://www.muji.dev/images/og_image_name.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Moojing&#39;s Blog">
<meta name="twitter:image" content="https://www.muji.dev/images/og_image_name.png">







<link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134605527-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-134605527-1');
</script>
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="Moojing&#39;s Blog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About Me</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="搜尋" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">分類</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">devOps</a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-08-06T01:16:08.000Z">2019-08-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/devOps/">devOps</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 分鐘 閱讀文 (大約 2155 個字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/08/06/drone-deployment-1/">DroneCI 串接流程 (1) - CI 建置</a>
            
        </h1>
        <div class="content">
            <p>CI (Continuous Integration) / CD (Continuous Delivery)</p>
<img src="/2019/08/06/drone-deployment-1/drone.png" title="drone">
<p>這系列 Drone 的文章是我在公司中因為需要優化開發流程而寫的 CI / CD 工具架設過程紀錄，給有需要的人參考，其中很感謝我的架構師夥伴 <a href="https://www.linkedin.com/in/jackie-cheng-devsecops/">Jackie-Cheng</a> 的技術協助，幫我一起研究文件、做了許多嘗試，最後才有這系列的文章。</p>
<h2 id="outline"><a class="header-anchor" href="#outline"></a>Outline</h2>
<ul>
<li>什麼是 CI / CD ?</li>
<li>CI 流程 - 流程設計</li>
<li>CI 流程 - 與 Bitbucket 串接</li>
<li>CI 流程 - 執行程式碼測試</li>
<li>CI 流程 - 整合至 Docker Hub</li>
</ul>
<h2 id="什麼是-ci-cd"><a class="header-anchor" href="#什麼是-ci-cd"></a>什麼是 CI / CD ?</h2>
<p>身為一個程式開發者，在產品開發完畢後多少都會碰到環境架設的工作，規模小一點的專案，其實我自己以前也都是手動連上主機去拉最新版本下來更新的。但是稍微有一點規模的專案，很可能同時是會需要不同環境（正式/測試/開發環境）來配合的，所以上述說的舊做法可能就不再適用。</p>
<p>為了節省時間，我們需要引入 CI / CD（持續整合 / 持續發佈 ）。</p>
<p>什麼是 CI 呢 ？ CI 存在的目的就是為了創造一系列能夠自動化建置、打包、或測試專案的方式，如此一來團隊在開發產品的時候就能夠更頻繁的提交進度，然後系統透過監測每次的變動，就能夠持續地自動測試並驗證以確保品質和穩定性。</p>
<p>在 CI 階段結束，整合完畢確定沒問題之後，就可以透過 CD 流程來把新釋出的版本推送到測試/正式環境上，讓相關專案人員可以直接瀏覽更新後的結果，而這中間從推送新版本、測試程式碼功能及可讀性、到環境測試及部署，完全都是可以持續進行且自動化的，這就是 CI / CD 現在這麼熱門的原因。</p>
<p>我自己比較常聽見的 CI / CD 工具有 Travis CI / Jekins / Drone CI 三套，而 Drone CI 因為架設快速，設定撰寫方便， 又是開源免費的，所以我最近也對這套工具產生興趣，在這系列文章裡面，我打算以Drone為例，把整個建置流程記錄下來與大家分享。</p>
<h2 id="ci-流程-流程設計"><a class="header-anchor" href="#ci-流程-流程設計"></a>CI 流程 - 流程設計</h2>
<p>先構想一下整個 CI 流程， 一個可能的CI 流程如下：</p>
<ol>
<li>發送 Commit / Merge / PR  到 Git Remote Repo</li>
<li>該 Repo 偵測到改變，通知 Drone Server 根據  drone.yml 做出相對應的 Task</li>
<li>開始跑測試及建置</li>
<li>沒問題之後發佈到 Docker Registry (ex. Docker Hub) 上推出新版本</li>
</ol>
<p>整合新版本到 Docker Hub 之後其實還可以讓 Docker Registry 偵測更變然後自動部署到串接好的機器上，就像 Bitbucket 偵測程式碼的改變然後做動作一樣，不過這應該屬於 CD 的部分，先不深究，附上流程圖：</p>
<h3 id="ci-流程圖"><a class="header-anchor" href="#ci-流程圖"></a>CI 流程圖</h3>
 <img src="/2019/08/06/drone-deployment-1/DroneFlow.png" title="drone flow">
<h2 id="ci-流程-與-bitbucket-串接"><a class="header-anchor" href="#ci-流程-與-bitbucket-串接"></a>CI 流程 - 與 Bitbucket 串接</h2>
<p>CI 通常會跟版本控制的流程綁在一起，而版控則有許多雲端服務，例如 Github / Gitlab / Gitlab 等幾個，透過這些 Git 服務，就能夠讓開發者可以把自己的專案源碼存放在第三方（較安全），這些服務基本上都是免費的，除非有需要使用到比較進階的功能。在這裡我們會用 Bitbucet 為例子來跟自己架設的 Drone Server 做串接來做到第一階段的 CI 部分。</p>
<h3 id="step-1-bitbucket-oauth-setting"><a class="header-anchor" href="#step-1-bitbucket-oauth-setting"></a>Step 1.  Bitbucket OAuth Setting</h3>
<p>首先要在Bitbucket個人設定頁面新增一組 OAuth 的 Secret-Key Pair 來讓之後架設的 Drone CI 能夠得到對本人帳戶拉取 Git Repo 的權限。</p>
<img src="/2019/08/06/drone-deployment-1/oauth.png" title="OAuth">
<p>進入新增頁面之後把Name / Description / Callback Url 寫一寫，記得 Callback Url 要填寫之後預計要架設 Drone Server 的位置後面加上 ‘/login’，才能讓 Drone Server 的 UI 正常運作！填好之後就可以送出了，會拿到一組 Key 跟 Secret，記得記下來。</p>
<img src="/2019/08/06/drone-deployment-1/oauth_consumer.png" title="OAuthConsumer">
<img src="/2019/08/06/drone-deployment-1/secret.png" title="Secret-Key-Pair">
<h3 id="step-2-drone-server-安裝及部署"><a class="header-anchor" href="#step-2-drone-server-安裝及部署"></a>Step 2.  Drone Server 安裝及部署</h3>
<p>之後可以連到你預計要跑 CI 測試的機器上，先把 Drone 的 Image 拉下來：</p>
<pre><code> docker pull drone/drone:1.0.0-rc.1
</code></pre>
<p>之後就可以把 Drone 的 Container 起起來了，用docker run 搭配對應的參數來啟動 Drone Server ：</p>
<pre><code>   docker run \
     --volume=/var/run/docker.sock:/var/run/docker.sock \
     --volume=/var/lib/drone:/data \
     --env=DRONE_BITBUCKET_CLIENT_ID={% your-bitbucket-key %} \
     --env=DRONE_BITBUCKET_CLIENT_SECRET={% your-bitbucket-secret %} \
     --env=DRONE_RUNNER_CAPACITY=2 \
     --env=DRONE_SERVER_HOST={% your-drone-server-host %} \
     --env=DRONE_SERVER_PROTO={% your-drone-server-protocol %} \
     --env=DRONE_AGENTS_DISABLED=true \
     --env=DRONE_TLS_AUTOCERT=false \
     --env=DRONE_USER_CREATE=username:{% your-repo-host-user%},admin:true \
     --publish=80:80 \
     --publish=443:443 \
     --restart=always \
     --detach=true \
     --name=drone \
     drone/drone:1
</code></pre>
<p>上述參數說明 :</p>
<ul>
<li>your-bitbucket-key / secret ： 在第一步驟時 Bitbucket OAuth 設定完成後取得的 Key Pair</li>
<li>your-drone-server-host : 在 Bitbucket OAuth 設定時所輸入的 Redirect Url 的 Host，如果使用 IP 位址的話可以把 Port 帶進來</li>
<li>your-drone-server-protocol : 你的 Drone Server 所使用的傳輸協定，輸入 http 或 https</li>
<li>your-repo-host-user : 對你的 repository 有控制權的使用者名稱，以這個專案為例，就是 Bitbucket 的使用者名 ，這行等於是讓自己對 Drone Server 有最高的存取權限，使用 GUI 時才能看到完整設定。</li>
</ul>
<p>順利啟動之後，應該就可以在你所設定的位置看到 Drone 的操作介面了，第一次進入時會跳出跟 Bitbucket 要求權限的確認視窗，之後就不會有了。示意圖：</p>
<img src="/2019/08/06/drone-deployment-1/final_UI.png" title="final_UI">
<h2 id="ci-流程-執行程式碼測試"><a class="header-anchor" href="#ci-流程-執行程式碼測試"></a>CI 流程 - 執行程式碼測試</h2>
<p>把基本設定做完之後，Drone 在被觸發時，會自己找專案根目錄裡面的 .drone.yml 去做相對應的 Pipeline 動作，一個最基本 Drone Pipeline 的範例如下：</p>
<pre><code class="language-yml">kind: pipeline
name: default

steps:
- name: frontend
  image: node
  commands:
  - npm install
  - npm test
...
</code></pre>
<p>steps 是一個 list ，用來描述你要做哪些事情。 你可以寫好幾個 step 分別執行不同的動作，每個 step 都會根據你 image 的設定，啟動一個包含你 Repo 的新 container ，然後根據 commands 執行你想做的事情，範例中的 step 就會安裝完專案所需的 module 之後，執行測試，然後結束。</p>
<h2 id="ci-流程-自動發布到-docker-hub"><a class="header-anchor" href="#ci-流程-自動發布到-docker-hub"></a>CI 流程 - 自動發布到 Docker Hub</h2>
<p>當 Drone Server 上面跑完測試，並且確認沒問題之後，我還希望 Drone 可以幫我自動推到 Ducker Hub 上發出新版本的 Image ，這一樣可以透過 drone.yml 設定檔完成。 加上一個新的 step 並且搭配 drone 的 Docker plugin ，然後把你 Docker Hub 帳號密碼 跟 Repo 名稱填入之後即可。</p>
<pre><code class="language-yml">steps:
...
- name: docker  
  image: plugins/docker
  settings:
    repo: your-dockerhub-name / repo-name
    target: production
    username: herocat
    password: 123456
    tags: latest
</code></pre>
<p>這樣設定好以後每次有新的更動，我就能夠自動地 docker build 然後推新的 image 到我給的位置，這邊的帳號密碼如果沒有搭配其他工具，就只能用明碼寫入，非常不安全，不過這邊只是為了說明所以這樣做。後面我們會講到如何搭配 Drone 內建的機密資訊管理工具來確保專案資訊的隱密性（讓密碼或token這類資訊在 drone.yml 內可以不用明碼紀錄）。</p>
<p>補充一下，如果不想要每次推上新的 Commit 都跑 Docker 相關 task，則可以用 when 關鍵字來限定某些 branch 才會觸發。</p>
<pre><code class="language-yml">steps:
...
- name: docker  
  image: plugins/docker
  settings:
    repo: your-dockerhub-name / repo-name
    target: production
    username: herocat
    password: 123456
    tags: latest
    when:
      branch:
      - master
      - feature/*
</code></pre>
<p>OK，目前已經完成我們設計的 CI 流程，在下一章節我會繼續往下補充如何完成 CD 的流程讓專案的新版本能夠自動部署到另外一台 Server 上。</p>
<p>下一篇： <a href="/2019/08/06/drone-deployment-2/" title="DroneCI 串接流程 (2) - CD 建置">DroneCI 串接流程 (2) - CD 建置</a></p>
<h2 id="參考文章："><a class="header-anchor" href="#參考文章："></a>參考文章：</h2>
<p><a href="https://medium.com/@william456821/%E4%BB%80%E9%BA%BC%E6%98%AF-ci-cd-72bd5ae571f1">什麼是 CI / CD ?</a></p>
<p><a href="https://www.infoworld.com/article/3271126/what-is-cicd-continuous-integration-and-continuous-delivery-explained.html%5D(https://www.infoworld.com/article/3271126/what-is-cicd-continuous-integration-and-continuous-delivery-explained.html)">What is CI/CD? Continuous integration and continuous delivery explained</a></p>
<p><a href="https://docs.drone.io/installation/bitbucket-cloud/single-machine/">Drone CI Document</a></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-08-06T01:16:08.000Z">2019-08-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/devOps/">devOps</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分鐘 閱讀文 (大約 1475 個字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/08/06/drone-deployment-2/">DroneCI 串接流程 (2) - CD 建置</a>
            
        </h1>
        <div class="content">
            <p>上一篇： <a href="/2019/08/06/drone-deployment-1/" title="DroneCI 串接流程 (1) - CI 建置">DroneCI 串接流程 (1) - CI 建置</a></p>
<img src="/2019/08/06/drone-deployment-2/drone-logo.png" title="drone-cd-flow">
<p>在上一篇，我介紹了如何在自己的 Server 上架設 Drone 的主機，並與 Bitbucket 串接，從測試到專案建置、再到 Docker 的整合。到這裡我們已經完成了 CI 的部分，在第二個章節，我會跟大家分享如何繼續搭配 Drone 建置後續的 CD 流程。</p>
<h2 id="outline"><a class="header-anchor" href="#outline"></a>Outline</h2>
<ul>
<li>CD 流程設想</li>
<li>Drone Agent 架設</li>
<li>Drone Secret 管理</li>
<li>使用 drone-ssh plugin 部署新版本</li>
</ul>
<h2 id="cd-流程設想-continuous-delivery"><a class="header-anchor" href="#cd-流程設想-continuous-delivery"></a>CD 流程設想  (Continuous Delivery )</h2>
<p>目前我們已經有了第一台 Drone Server ，後續其實可以再多架 Agent  Server，而在跑 CI 測試流程的時候，可以把不同的 Pipeline 交給不同的主機去跑。指定 Pipeline 的設定一樣可以單單只由 drone.yml 完成。</p>
<p>在後面的章節中我們也會講到如何透過 Drone 來管理機密資訊，讓這些 Service 用到的密碼可以被隱蔽。而在所有的測試通過並跑完之後，我打算搭配 drone-ssh 這個套件來讓我能夠登入另一台 Server 並從 Docker Hub 上拉下最新版本的 Image 並完成部署：</p>
<img src="/2019/08/06/drone-deployment-2/drone-cd-flow.png" title="drone-cd-flow">
<p>以下是預計的架構裡面會需要的部分：</p>
<ul>
<li>Drone (Master) Server  : 最一開始架設，最主要專門 跑 Drone Pipeline  的 Server。</li>
<li>Drone Agent Server : 當 Pineline 需要做的事情比較多時用來幫忙分擔 Loading 的Server。</li>
<li>Secret 管理工具 ： 有一些功能需要登入第三方服務的話，這個時候如果將密碼直些寫在 .drone.yml 檔案裡面（明文），那其實是非常不安全的行為，因此我們會需要工具來讓我們安全的在設定檔裡面使用這些密碼。</li>
<li>plugins/docker : Drone 裡面的 docker 插件， 使專案能夠快速推送新版至遠端 Docker Registry</li>
<li>drone-ssh : Drone 搭配的 ssh 工具，使專案能夠登入遠端另外一台主機執行寫好的指令</li>
</ul>
<h2 id="agent-server-架設-以docker-compose-為例"><a class="header-anchor" href="#agent-server-架設-以docker-compose-為例"></a>Agent Server 架設   ( 以Docker Compose 為例 )</h2>
<p>Agent 的架設整體上可以分為幾個步驟：</p>
<ol>
<li>Agent Server 架設</li>
<li>設定 Agent Server 的 label 名稱 ，用以辨識</li>
<li>專案內 .drone.yml 檔案指定 跑 pipeline 的 Agent Server</li>
</ol>
<p>補充：由於 Drone 的 Master 跟 Agent 之間是透過 RPC 溝通的，所以在啟動 Master 及 Agent 的 Container 時，記得要加上 RPC Token 相關的設定，這點可以參考 <a href="https://docs.drone.io/runners/docker/reference/drone-rpc-secret/">官方文件</a> 。</p>
<h3 id="agent-server-架設-docker-compose-file"><a class="header-anchor" href="#agent-server-架設-docker-compose-file"></a>Agent  Server 架設- Docker Compose File :</h3>
<p>基本上 Drone Agent 的架設跟第一章節提到的 Master Server 的設定相去不遠，差別只在使用的 Image 不同，其他部分 Drone  都幫我們做好了，我們只要提供相關的 RPC Token 再設定好 Server 的 Label ，以方便後面指定即可。</p>
<pre><code>    version: &quot;2.0&quot;
    
    services:
      drone-agent:
        image: drone/agent
        restart: always
        volumes:
          - /var/run/docker.sock:/var/run/docker.sock
        environment:
          DRONE_RPC_PROTO: http
          DRONE_RPC_HOST: 125.227.167.242:5999
          DRONE_RPC_SECRET: c5b06c767123123ddd763b8e8
          DRONE_RUNNER_CAPACITY: 2
          DRONE_RUNNER_NAME: drone-agent-130
          DRONE_RUNNER_LABELS: hostname:drone-agent-130
</code></pre>
<p>重要參數說明 :</p>
<ol>
<li>DRONE_RPC_HOST : Drone Master Server 的位置，Agent才知道要聽誰的話</li>
<li>DRONE_RUNNER_LABELS ： 用來指定 Pipeline 的識別名稱，預設是主機名。</li>
<li>DRONE_RPC_SECRET： 與 Drone Master Server 溝通的 Token ，用來讓兩邊互相溝通，Master 端也會有相同的設定，可以用以下指令來產生 Token :</li>
</ol>
<pre><code>        openssl rand -hex 16
</code></pre>
<p>其他 Agent 相關參數說明可以參考<a href="https://docs.drone.io/runners/docker/">官方文件</a>。</p>
<p>寫好相關設定之後就可以透過 docker-compose 啟動 container 囉！</p>
<pre><code>     docker-compose up -d ./docker-compose.yml
</code></pre>
<h2 id="drone-secret-管理"><a class="header-anchor" href="#drone-secret-管理"></a>Drone Secret 管理</h2>
<p>Drone 內建就有 Secret 管理功能，你也可以自己架第三方的工具，如 Vault 或是 AWS Secret Manager 等…來管理，在每個 Drone 管理介面上 Repository 的 Setting 點進去之後，就可以很快找到 Secret 管理的區塊，只要輸入對應的 Secret ，後續就可以直接在 drone.yml 檔案裡面引用囉。</p>
<img src="/2019/08/06/drone-deployment-2/drone-secret.png" title="drone-secret">
<p>在 drone.yml 裡面使用 from_secret 關鍵字引用剛剛設定好的密碼：</p>
<img src="/2019/08/06/drone-deployment-2/drone-yml.png" title="drone-yml">
<h2 id="使用-drone-ssh-plugin-部署新版本至遠端-server"><a class="header-anchor" href="#使用-drone-ssh-plugin-部署新版本至遠端-server"></a>使用 Drone SSH  Plugin 部署新版本至遠端 Server</h2>
<p>在所有流程的最後，我想要把測試完畢沒有問題的版本部署到正式環境上，我找到了一個適合的套件讓我能夠直接登入 Production  環境的主機並且執行寫好的指令，所以我只要直接從 Docker Registry 上拉下最新版並重新啟動，就完成了最後部署的部分！</p>
<img src="/2019/08/06/drone-deployment-2/drone-ssh.png" title="drone-ssh">
<p>到這邊我們已經從 CI 測試流程，推到 Docker 儲存庫，並且全程搭配 Drone 的 Secret Management ，所以我在寫 drone.yml 的設定時，如果有些插件必須使用密碼登入，這些資訊就能夠安全的被使用，不會輕易外流。最後使用 drone-ssh 插件，直接在 Production 環境上部署，完成 最簡單的一個 CI/CD 流程。</p>
<p>完整的 CI/CD 流程應該會隨著團隊專案規模而改變，例如中大型專案常常搭配 Git Flow 或是 Github Flow ，然後會搭配 PR 觸發測試，通過以後才推送到 Dev 環境，減少錯誤機率，不過把基本功能跟流程理過一次後，後面怎麼變化就看使用者的需求了，非常感謝大家看到最後，以後有發現有興趣或有需要的工具再上來跟大家分享囉！</p>
<h3 id="參考文章"><a class="header-anchor" href="#參考文章"></a>參考文章</h3>
<p><a href="https://www.slideshare.net/Robert_McDermott/anatomy-of-a-continuous-integration-and-delivery-cicd-pipeline">https://www.slideshare.net/Robert_McDermott/anatomy-of-a-continuous-integration-and-delivery-cicd-pipeline</a></p>

        </div>
        
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/images/avatar.png" alt="Mujing Tsai">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Mujing Tsai
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        -
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Taipei, Taiwan</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            64
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分類
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            9
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        標籤
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            18
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://www.facebook.com/mujing" target="_blank" rel="noopener">
                追蹤</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/moojing">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Facebook" href="https://www.facebook.com/mujing">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://www.linkedin.com/in/mu-jing-tsai/">
                
                <i class="fab fa-linkedin"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            連結
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://ithelp.ithome.com.tw/users/20106580/ironman/2503" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">11th鐵人賽</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">ithelp.ithome.com.tw</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分類
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Canvas/">
            <span class="level-start">
                <span class="level-item">Canvas</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/FullStack/">
            <span class="level-start">
                <span class="level-item">FullStack</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IThome-鐵人賽30天/">
            <span class="level-start">
                <span class="level-item">IThome - 鐵人賽30天</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">30</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Javascript/">
            <span class="level-start">
                <span class="level-item">Javascript</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/TypeScript/">
            <span class="level-start">
                <span class="level-item">TypeScript</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Webpack/">
            <span class="level-start">
                <span class="level-item">Webpack</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/devOps/">
            <span class="level-start">
                <span class="level-item">devOps</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/w3HexSchool-2020-年度鐵人賽/">
            <span class="level-start">
                <span class="level-item">w3HexSchool 2020 年度鐵人賽</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/走在漫漫長路-工作心得/">
            <span class="level-start">
                <span class="level-item">走在漫漫長路 - 工作心得</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            彙整
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2021/04/">
                <span class="level-start">
                    <span class="level-item">四月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/09/">
                <span class="level-start">
                    <span class="level-item">九月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">30</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            標籤雲
        </h3>
        <a href="/tags/backend/" style="font-size: 15.71px;">backend</a> <a href="/tags/canvas/" style="font-size: 10px;">canvas</a> <a href="/tags/devOps/" style="font-size: 11.43px;">devOps</a> <a href="/tags/frontend/" style="font-size: 20px;">frontend</a> <a href="/tags/frontend-force/" style="font-size: 17.14px;">frontend-force</a> <a href="/tags/ironman30/" style="font-size: 17.14px;">ironman30</a> <a href="/tags/javascript/" style="font-size: 18.57px;">javascript</a> <a href="/tags/rails/" style="font-size: 15.71px;">rails</a> <a href="/tags/ruby/" style="font-size: 15.71px;">ruby</a> <a href="/tags/ruby-on-rails/" style="font-size: 15.71px;">ruby on rails</a> <a href="/tags/typeScript/" style="font-size: 11.43px;">typeScript</a> <a href="/tags/typescript/" style="font-size: 12.86px;">typescript</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/vue-js/" style="font-size: 10px;">vue.js</a> <a href="/tags/w3HexSchool/" style="font-size: 14.29px;">w3HexSchool</a> <a href="/tags/working/" style="font-size: 11.43px;">working</a> <a href="/tags/地下城/" style="font-size: 14.29px;">地下城</a> <a href="/tags/鐵人賽30天/" style="font-size: 17.14px;">鐵人賽30天</a>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2021/04/03/react-compound-component/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="react-compound-component">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2021-04-03T10:14:38.000Z">2021-04-03</time></div>
                    <a href="/2021/04/03/react-compound-component/" class="title has-link-black-ter is-size-6 has-text-weight-normal">react-compound-component</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Javascript/">Javascript</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/09/06/working-reward/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/thumbnails/reward-cover.JPG" alt="每個衝擊都是一次學習的機會 - 近期的一點心得">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-09-06T09:36:53.000Z">2020-09-06</time></div>
                    <a href="/2020/09/06/working-reward/" class="title has-link-black-ter is-size-6 has-text-weight-normal">每個衝擊都是一次學習的機會 - 近期的一點心得</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/走在漫漫長路-工作心得/">走在漫漫長路 - 工作心得</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/09/working-environment/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/thumbnails/work-life.jpg" alt="寫給職場工作者：工作環境是否會影響一個人的思考方式？">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-08T20:54:46.000Z">2020-03-09</time></div>
                    <a href="/2020/03/09/working-environment/" class="title has-link-black-ter is-size-6 has-text-weight-normal">寫給職場工作者：工作環境是否會影響一個人的思考方式？</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/走在漫漫長路-工作心得/">走在漫漫長路 - 工作心得</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/07/web-dnd-2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/thumbnails/DragnDrop.jpg" alt="就是要一起拖拖拉拉！(二) - 利用 DataTransfer API 實作拖拉元素間的資料傳遞">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-07T08:39:14.000Z">2020-03-07</time></div>
                    <a href="/2020/03/07/web-dnd-2/" class="title has-link-black-ter is-size-6 has-text-weight-normal">就是要一起拖拖拉拉！(二) - 利用 DataTransfer API 實作拖拉元素間的資料傳遞</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/w3HexSchool-2020-年度鐵人賽/">w3HexSchool 2020 年度鐵人賽</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/28/web-dnd-1/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/thumbnails/DragnDrop.jpg" alt="就是要一起拖拖拉拉！(一) - 瀏覽器 Drag and Drop API 操作">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-28T02:04:03.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/web-dnd-1/" class="title has-link-black-ter is-size-6 has-text-weight-normal">就是要一起拖拖拉拉！(一) - 瀏覽器 Drag and Drop API 操作</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/w3HexSchool-2020-年度鐵人賽/">w3HexSchool 2020 年度鐵人賽</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                標籤
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/backend/">
                        <span class="tag">backend</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/canvas/">
                        <span class="tag">canvas</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/devOps/">
                        <span class="tag">devOps</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/frontend/">
                        <span class="tag">frontend</span>
                        <span class="tag is-grey">62</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/frontend-force/">
                        <span class="tag">frontend-force</span>
                        <span class="tag is-grey">30</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ironman30/">
                        <span class="tag">ironman30</span>
                        <span class="tag is-grey">30</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/javascript/">
                        <span class="tag">javascript</span>
                        <span class="tag is-grey">56</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rails/">
                        <span class="tag">rails</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ruby/">
                        <span class="tag">ruby</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ruby-on-rails/">
                        <span class="tag">ruby on rails</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/typeScript/">
                        <span class="tag">typeScript</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/typescript/">
                        <span class="tag">typescript</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vue/">
                        <span class="tag">vue</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vue-js/">
                        <span class="tag">vue.js</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/w3HexSchool/">
                        <span class="tag">w3HexSchool</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/working/">
                        <span class="tag">working</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/地下城/">
                        <span class="tag">地下城</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/鐵人賽30天/">
                        <span class="tag">鐵人賽30天</span>
                        <span class="tag is-grey">30</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
        </div>
    
</div>

                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="Moojing&#39;s Blog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2021
                 <!-- Moojing&nbsp; -->
                
                <!-- Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a> -->
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-TW");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://www.muji.dev',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="回到頁首" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="請輸入關鍵字..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '頁面',
                CATEGORIES: '分類',
                TAGS: '標籤',
                UNTITLED: '(無標題)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>